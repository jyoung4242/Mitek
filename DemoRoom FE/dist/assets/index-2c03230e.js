var ct=Object.defineProperty;var ut=(s,e,t)=>e in s?ct(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var I=(s,e,t)=>(ut(s,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}})();class D{constructor(){this.state="created",this.bindings=[],this.views=[],this.animations=[],this.animationQueue=[],this.destroyed="",this.moved=""}static create(e,t,n={},r={parent:null,prepare:!0,sibling:null}){const i=new D;if(i.model=n,i.element=t,i.parent=r.parent??E,t instanceof HTMLTemplateElement||t.tagName==="TEMPLATE"){const o=t.content.cloneNode(!0);if(o.children.length===1)return E.create(e,o.firstElementChild,n,r);i.views=[...o.children].map(a=>E.create(e,a,n,{...r,parent:i})),i.state="rendered"}else i.bindings.push(...E.parse(i.element,n,i,r.parent));return i.parentElement=e,i.sibling=r.sibling,i.attached=new Promise(o=>{i.attachResolve=o}),i}destroy(){this.views.forEach(e=>e.destroy()),this.element.classList.add("pui-removing"),this.destroyed="queue",E.destroyed.push(this)}terminate(){Promise.all(this.getAnimations()).then(()=>{var t;(t=this.element.parentElement)==null||t.removeChild(this.element),this.bindings.forEach(n=>n.unbind());const e=this.parent.views.findIndex(n=>n===this);e>-1&&this.parent.views.splice(e,1)}),this.destroyed="destroyed"}move(e){this.moved="queue",this.element.classList.add("pui-moving"),this.sibling=e}play(e,t){return typeof e=="string"&&(e=this.animations.find(n=>n.name===e).clone()),e.element=t,e.state="pending",this.animationQueue.push(e),this.updateAnimations(performance.now()),e}updateFromUI(){this.views.forEach(e=>e.updateFromUI()),this.bindings.forEach(e=>e.updateFromUI())}updateToUI(){var e;switch(this.views.forEach(t=>t.updateToUI()),this.bindings.forEach(t=>t.updateToUI()),this.state){case"created":this.element.classList.add("pui-adding"),this.element.hasAttribute("PUI-UNRENDERED")||(this.parentElement??E.parentElement(this.element,this.parent)).insertBefore(this.element,((e=this.sibling)==null?void 0:e.nextSibling)??null),this.attachResolve(),this.state="attaching";break;case"attaching":this.getAnimations(!1).length===0&&(this.element.classList.remove("pui-adding"),this.state="attached");break;case"attached":this.state="rendered";break}}updateAtEvents(){this.views.forEach(e=>e.updateAtEvents()),this.bindings.forEach(e=>e.updateAtEvents())}updateAnimations(e){var t;for(;((t=this.animationQueue[0])==null?void 0:t.state)==="finished";)this.animationQueue.shift().destroy();for(let n=0;n<this.animationQueue.length;n++){const r=this.animationQueue[n];r.state==="pending"&&(r.isBlocked(e)||(r.state="playing",r.startTime=e,r.animation=r.element.animate(r.keyframes,r.options),r.finished=r.animation.finished,r.finished.then(()=>{r.state="finished",this.updateAnimations(performance.now())})))}}updateMove(){switch(this.moved){case"queue":this.moved="move";break;case"move":this.getAnimations().length===0&&(E.parentElement(this.element,this.parent).insertBefore(this.element,this.sibling.nextSibling),this.element.classList.remove("pui-moving"),this.moved="",this.sibling=null);break}this.bindings.forEach(e=>e.updateMove())}getAnimations(e=!0){return this.element.getAnimations({subtree:e}).filter(t=>{var n;return t.playState!=="finished"&&((n=t.effect)==null?void 0:n.getTiming().iterations)!==1/0}).map(t=>t.finished)}}class he{constructor(){this.fromUI=!1,this.toUI=!0,this.atEvent=!1,this.oneTime=!1,this.views=[],this.firstUpdate=!0,this.events=[],this.triggerAtEvent=e=>{e.type==="change"?this.events.push(e):E.resolveValue(this.object,this.property)(e,this.object.$model,this.element,this.attribute,this.object)},this.id=++E.id}get element(){return this.$element==null&&(this.$element=typeof this.selector=="string"?this.context.querySelector(this.selector):this.selector),this.$element}set element(e){this.$element=e}static create(e){var i;const t=new he,n=((i=e.property)==null?void 0:i.split(":"))??[],r=n.shift();return t.object="$model"in e.object?e.object:{$model:e.object},t.property=r,t.arguments=n,t.context=e.context??document,t.selector=e.selector,t.attribute=e.attribute??"innerText",t.value=e.value??t.value,t.template=e.template??t.template,t.fromUI=e.fromUI??t.fromUI,t.toUI=e.toUI??t.toUI,t.atEvent=e.atEvent??t.atEvent,t.oneTime=e.oneTime??t.oneTime,t.parent=e.parent??E,t.addListener(),typeof t.fromUI!="boolean"&&(t.fromUI=t.fromUI.bind(t)),typeof t.toUI!="boolean"&&(t.toUI=t.toUI.bind(t)),t}destroy(){this.element=null,this.removeListener(),this.views.forEach(e=>e.destroy())}unbind(){E.unbind(this)}addListener(){this.atEvent&&(this.toUI=!1,this.fromUI=!1,this.element.addEventListener(this.attribute,this.triggerAtEvent))}removeListener(){this.atEvent&&this.element.removeEventListener(this.attribute,this.triggerAtEvent)}updateFromUI(){if(this.fromUI===!1||this.firstUpdate){this.firstUpdate=!1,this.views.forEach(r=>r.updateFromUI());return}const{target:e,property:t}=E.resolveProperty(this.element,this.attribute),n=e[t];if(n!==this.lastUIValue){let r=this.fromUI!==!0?this.fromUI(n,this.lastUIValue,this.property,this.object):n;if(this.lastUIValue=n,r!==void 0&&r!==this.lastValue){this.lastValue=r;const{target:i,property:o}=E.resolveProperty(this.object,this.property);E.resolveValue(this.object,this.property)==="number"&&!isNaN(r)&&(r=+r),i[o]=r}else this.lastValue=r}this.views.forEach(r=>r.updateFromUI())}updateToUI(){if(this.toUI===!1){this.views.forEach(t=>t.updateToUI());return}let e=E.resolveValue(this.object,this.property);if(this.template!=null)if(this.template instanceof HTMLElement)if(typeof this.attribute=="boolean"){if(e=(e??!1)!==!1,e!==this.lastValue){const t=this.toUI!==!0?this.toUI(e,this.lastValue,this.property,this.object,this.value):e;if(t!==void 0&&t!==this.lastUIValue){if(t===this.attribute)this.views.push(D.create(this.element.parentElement,this.template.cloneNode(!0),this.object,{parent:this,prepare:!1,sibling:this.element}));else{const n=this.views.pop();n==null||n.destroy()}this.lastValue=e,this.lastUIValue=t}}}else{let t=!1,n=!1;e==null&&(e=[]);const r=this.arguments[0],i=this.lastValue??[];if(e.length!==i.length)t=!0;else for(let d=0,g=e.length;d<g;d++){let m,f;r==null?e[d]!==i[d]&&(t=!0,n=!0):(m=E.resolveValue(e[d]??{},r),f=E.resolveValue(i[d]??{},r),m!==f&&(t=!0),e[d]!==i[d]&&(n=!0))}if(!t)if(n){const d=this.toUI!==!0?this.toUI(e,i,this.property,this.object,this.value):e;return this.updateViews(e,d)}else return this.updateViews();const o=this.toUI!==!0?this.toUI(e,i,this.property,this.object,this.value):e;if(o==null)return this.updateViews();const a=this.lastUIValue??[];let h=0;for(let d=0,g=o.length,m=0;d<g;d++,m++){let f,p;if(r==null?(f=o[d],p=a[m]):(f=E.resolveValue(o[d]??{},r),p=E.resolveValue(a[m]??{},r)),f===p)h++;else break}if(h===o.length&&o.length===a.length)return this.updateViews(e,o);const l=this.views.splice(0,h);let u=l[l.length-1];for(let d=h,g=o.length,m=h;d<g;d++,m++){const f=o[d],p=this.views.shift();if(p==null){const T={$model:{[this.attribute]:f},$parent:this.object},U=D.create(this.element.parentElement,this.template.cloneNode(!0),T,{parent:this,prepare:!1,sibling:(u==null?void 0:u.element)??this.element});l.push(U),u=U;continue}const w=r==null?f:E.resolveValue(f??{},r),b=p==null?void 0:p.model.$model[this.attribute],S=r==null?b:E.resolveValue(b??{},r);if(w===S){l.push(p),p.move((u==null?void 0:u.element)??this.element),u=p;continue}if(!o.slice(d).map(T=>r==null?T:E.resolveValue(T??{},r)).includes(S)){p.destroy(),d--,u=p;continue}this.views.unshift(p);let A=!1;for(let T=0,U=this.views.length;T<U;T++){const R=this.views[T],x=R==null?void 0:R.model.$model[this.attribute],P=r==null?x:E.resolveValue(x??{},r);if(w===P){l.push(...this.views.splice(T,1)),R.move((u==null?void 0:u.element)??this.element),A=!0,u=R;break}}if(!A){const T={$model:{[this.attribute]:f},$parent:this.object},U=D.create(this.element.parentElement,this.template.cloneNode(!0),T,{parent:this,prepare:!1,sibling:(u==null?void 0:u.element)??this.element});l.push(U),u=U}}return this.views.forEach(d=>d.destroy()),this.views=l,this.updateViews(e,o)}else{const t=E.resolveValue(this.object,this.attribute);if((e??t)==null||(e??t)!==this.lastValue){this.lastUIValue!=null&&(this.lastUIValue.destroy(),this.lastUIValue=null);const n=e==null?t:t.create(e),r=t.template;this.lastValue=e??t;const i=this.element.nodeType===8?this.element.parentElement:this.element,o=this.element.nodeType===8?this.element:null;this.lastUIValue=E.create(i,r,n,{parent:this,prepare:!0,sibling:o}),this.views.push(this.lastUIValue)}}else if(e!==this.lastValue){const t=this.toUI!==!0?this.toUI(e,this.lastValue,this.property,this.object,this.value):e;if(t!==void 0&&t!==this.lastUIValue){const{target:n,property:r}=E.resolveProperty(this.element,this.attribute);n[r]=t,this.lastValue=e,this.lastUIValue=t}}this.updateViews()}updateAtEvents(){let e=this.events.shift();for(;e!=null;)E.resolveValue(this.object,this.property)(e,this.object.$model,this.element,this.attribute,this.object),e=this.events.shift();this.views.forEach(t=>t.updateAtEvents())}updateMove(){this.views.forEach(e=>e.updateMove())}updateViews(e,t){e==null?this.views.forEach(n=>n.updateToUI()):(this.views.forEach((n,r)=>{const i=t[r];typeof i=="object"&&(i.$index=r),n.model.$model[this.attribute]=i,n.model.$index=r,n.updateToUI()}),this.lastValue=[...e],this.lastUIValue=[...t]),this.oneTime&&(this.toUI=!1,this.fromUI=!1)}}var le;class v{static initialize(e=!0){var t;if(this.initialized=!0,this.loadPromise=new Promise(n=>this.loadResolve=n),(t=document.defaultView)==null||t.addEventListener("load",this.loaded),e!==!1){if(e===!0){const n=()=>{this.update(),requestAnimationFrame(n)};requestAnimationFrame(n);return}setInterval(()=>this.update(),1e3/e)}}static import(e){document.body.insertAdjacentHTML("afterbegin",`<object type="text/pui" data="${e}"></object>`)}static ready(){return this.loadPromise.then(()=>(this.hoist()&&document.head.insertAdjacentHTML("beforeend",'<style> object[type="text/pui"] { height: 0; position: absolute; } </style>'),this.registrations))}static create(e,t,n={},r={parent:null,prepare:!0,sibling:null}){var o;if(typeof t=="string"){const a=((o=e==null?void 0:e.ownerDocument)==null?void 0:o.defaultView)!=null?e.ownerDocument:document;if(t.startsWith("#"))t=a.querySelector(t);else{const h=a.createElement("template");h.innerHTML=r.prepare?this.prepare(t):t,t=h}}const i=D.create(e,t,n,r);return i.parent===E&&this.views.push(i),this.initialized||this.initialize(),i}static play(e,t){return typeof e=="string"?(e=this.globals.animations.find(n=>n.name===e).clone(),e.play(t)):e.play()}static queue(e){this.t.push(e)}static register(e,t){this.registrations[e]=t}static parse(e,t,n,r){const i=[];if(e.nodeType===3){let o=e.textContent,a=o.match(this.regexValue);for(;a!=null;){const h=a[1];let l=a[2];o=a[3];let u=!1;l.startsWith("|")&&(u=!0,l=l.slice(1).trimStart());const d=l.match(this.regexConditionalValue);let g,m=!0;d&&(l=d[3],g=`${d[2]}${d[1]}`,m=function(p,w,b,S,A){const T=A[0]==="=";return A=A.slice(2,-1),!!p===T?A:""});let f=e.cloneNode();e.textContent=h,this.parentElement(e,r).insertBefore(f,e.nextSibling),i.push(this.bind({selector:f,attribute:"textContent",object:t,property:l,parent:n,oneTime:u,value:g,toUI:m})),e=f,f=e.cloneNode(),f.textContent=o,this.parentElement(e,r).insertBefore(f,e.nextSibling),e=f,a=o.match(this.regexValue)}}else{const o=e.getAttribute("pui")??"";if(o.trim().length>0){const a=o.split(";");for(let h of a)h=h.trim(),h.length>0&&e.setAttribute(`pui.${this.bindingCounter++}`,h)}if(e.removeAttribute("pui"),i.push(...Object.keys(e.attributes??[]).reverse().map(a=>{const h=[];if(e instanceof Comment)return[];const l=e.attributes[a];if(l.name.startsWith("pui.")){const m=l.value.match(this.regexAttribute);let[f,p,w,b,S]=m,A,T,U=!1;if(w!=="@"){const R=p.match(/^'(.*?)'$/);if(R!=null)A=R[1],e.setAttribute("value",A),p=e.nodeName.toLowerCase()==="option"?"selected":"checked",b=x=>x?A:void 0,w=x=>x===A;else if(p==="")if(b===">"){const{target:x,property:P}=this.resolveProperty(t,S);return x[P]=e,[]}else{const x=document.createComment(l.name);this.parentNode(e,r).insertBefore(x,e),this.parentNode(e,r).removeChild(e),e.removeAttribute(l.name),T=e,e=x,p=w==="=",w=!0,b==="|"&&(U=!0)}else if(b==="="&&w==="="){if(!e.tagName.includes("-")){e.setAttribute("pui-unrendered","");const x=this.parentNode(e,r);if(x.nodeType!==8){const P=document.createComment(l.name);x.insertBefore(P,e),x.removeChild(e),e.removeAttribute(l.name),e=P}else e=x}T=p,w=!0}else if(b==="*"){const x=document.createComment(l.name);this.parentNode(e,r).insertBefore(x,e),this.parentNode(e,r).removeChild(e),e.removeAttribute(l.name),T=e,e=x}else b==="|"?U=!0:p!=="checked"&&e.setAttribute(p,"")}return[this.bind({selector:e,attribute:p,value:A,object:t,property:S,template:T,toUI:typeof w=="string"?w==="<":w,fromUI:typeof b=="string"?b===">":b,atEvent:w==="@",parent:n,oneTime:U})]}const u=[l.value];let d=0,g=u[d].match(this.regexValue);for(;g!=null;){let{before:m,property:f,after:p}=g.groups,w=!1;f.startsWith("|")&&(w=!0,f=f.slice(1).trimStart());const b=f.match(this.regexConditionalValue);let S;b&&(f=b[3],S=`${b[2]}${b[1]}`),h.push(this.bind({selector:e,attribute:l.name,object:t,property:f,oneTime:w,toUI(A,T,U,R,x){if(this.oneTime){const C=u.indexOf(U);C>-1&&(u[C]=v.resolveValue(R,U),u[C-1]+=u[C]+u[C+1],u.splice(C,2))}const P=u.map((C,ot)=>{if(ot%2===0)return C;const W=C.match(v.regexSplitConditionalValue);if(W){const at=C===`${U}${x}`?A:v.resolveValue(R,W[1]),lt=W[2]==="=";return!!at===lt?W[3].slice(1,-1):""}return C===U?A:v.resolveValue(R,C)}).join("");return e.setAttribute(l.name,P),P},parent:n,value:S})),u[d++]=m,u[d++]=`${f}${S??""}`,u[d]=p,g=u[d].match(this.regexValue)}return h}).flat()),e instanceof Comment)return i.filter(a=>a.template!=null?!0:(a.unbind(),!1));if(!this.leaveAttributes)for(let a=Object.keys(e.attributes??[]).length-1;a>=0;a--){const h=e.attributes[Object.keys(e.attributes??[])[a]];h.name.startsWith("pui.")&&e.removeAttribute(h.name)}i.push(...Array.from(e.childNodes).map(a=>this.parse(a,t,n,r)).flat())}return i}static bind(e){return he.create(e)}static unbind(e){if(e.destroy(),e.parent!==E){const t=e.parent.bindings,n=t.indexOf(e);n>-1&&t.splice(n,1)}}static update(){this.i.forEach(t=>t()),this.i=this.t,this.t=[],this.views.forEach(t=>t.updateToUI()),this.views.forEach(t=>t.updateFromUI()),this.views.forEach(t=>t.updateAtEvents());const e=performance.now();[...this.views,this.globals].forEach(t=>t.updateAnimations(e)),this.views.forEach(t=>{t.updateMove()}),this.destroyed.forEach(t=>{switch(t.destroyed){case"queue":t.state==="rendered"?t.destroyed="destroy":t.updateToUI();break;case"destroy":{t.terminate();const n=this.destroyed.findIndex(r=>t===r);n>-1&&this.destroyed.splice(n,1)}}})}static resolveProperty(e,t){t=t.replace("[",".").replace("]",".");const n=t.split(".").filter(i=>(i??"").length>0);for(;n[0]==="$parent"&&e.$parent!=null;)e=e.$parent,n.shift();let r=e;if(n[0]==="$index"&&this.objectHas(r,"$index"))return{target:r,property:n[0]};for(this.objectHas(r,"$model")&&(r=e.$model);n.length>1;)r=r[n.shift()];return{target:r,property:n[0]}}static resolveValue(e,t){let n=0;do{const{target:r,property:i}=this.resolveProperty(e,t);if(r!=null&&this.objectHas(r,i))return r[i];e=e.$parent}while(e!=null&&n++<1e3);if(t in this.registrations)return this.registrations[t]}static hoist(e=document,t=document){e!==t&&((t.querySelectorAll("style")??[]).forEach(i=>{e.head.appendChild(i.cloneNode(!0))}),(t.querySelectorAll("template")??[]).forEach(i=>{e.head.appendChild(i.cloneNode(!0))}));const n=t.querySelectorAll('object[type="text/pui"]')??[];let r=n.length>0;return n.forEach(i=>{r=this.hoist(e,i.contentDocument)||r}),r}static objectHas(e,t){try{return t in e}catch{return!1}}static parentElement(e,t){const n=e.parentElement;if(n!=null)return n;for(;t!=null&&(t.element==null||t.element===e);)t=t.parent;return t==null?void 0:t.element}static parentNode(e,t){const n=e.parentNode;if(n!=null)return n;for(;t!=null&&(t.element==null||t.element===e);)t=t.parent;return t==null?void 0:t.element}static prepare(e){let t=e;e="";let n=t.match(this.regexReplace);for(;n!=null;){const[r,i,o,a]=n;o.match(/\S\s*===/)?e+=`${i.trimEnd()}br PUI.${this.bindingCounter++}="${o}"`:e+=`${i} PUI.${this.bindingCounter++}="${o}" `,t=a,n=t.match(this.regexReplace)}return e+=t,e}static parseAttribute(e,t,n,r,i,o){const a=o.match(this.regexAttribute);let[h,l,u,d,g]=a,m,f,p=!1;if(u!=="@"){const w=l.match(/^'(.*?)'$/);if(w!=null)m=w[1],e.setAttribute("value",m),l=e.nodeName.toLowerCase()==="option"?"selected":"checked",d=b=>b?m:void 0,u=b=>b===m;else if(l==="")if(d===">"){const{target:b,property:S}=this.resolveProperty(t,g);return b[S]=e,[]}else{const b=document.createComment(i);this.parentNode(e,r).insertBefore(b,e),this.parentNode(e,r).removeChild(e),e.removeAttribute(i),f=e,e=b,l=u==="=",u=!0,d==="|"&&(p=!0)}else if(d==="="&&u==="="){const b=this.parentNode(e,r);if(b.nodeType!==8){const S=document.createComment(i);b.insertBefore(S,e),b.removeChild(e),e.removeAttribute(i),e=S}else e=b;f=l,p=!0,u=!0}else if(d==="*"){const b=document.createComment(i);this.parentNode(e,r).insertBefore(b,e),this.parentNode(e,r).removeChild(e),e.removeAttribute(i),f=e,e=b}else d==="|"?p=!0:l!=="checked"&&e.setAttribute(l,"")}return[this.bind({selector:e,attribute:l,value:m,object:t,property:g,template:f,toUI:typeof u=="string"?u==="<":u,fromUI:typeof d=="string"?d===">":d,atEvent:u==="@",parent:n,oneTime:p})]}}le=v;v.initialized=!1;v.id=0;v.views=[];v.destroyed=[];v.globals=new D;v.registrations={};v.leaveAttributes=!1;v.regexReplace=/([\S\s]*?)\\?\$\{([^}]*?[<=@!]=[*=>|][^}]*?)\}([\S\s]*)/m;v.regexAttribute=/^\s*(\S*?)\s*([<=@!])=([*=>|])\s*(\S*?)\s*$/;v.regexValue=/(?<before>[\S\s]*?)\\?\$\{\s*(?<property>[\s\S]*?)\s*\}(?<after>[\S\s]*)/m;v.regexConditionalValue=/^\s*(.+?)\s*([=!])\s*(\S+)/;v.regexSplitConditionalValue=/^(.+?)([=!])(.*)/;v.bindingCounter=0;v.i=[];v.t=[];v.loaded=()=>{var s;le.loadResolve(),(s=document.defaultView)==null||s.removeEventListener("load",le.loaded)};"UI"in top||(top.UI=v);const E=top.UI;class ft{constructor(){I(this,"states",{});I(this,"current",{})}create(...e){const t=[];let n=[];for(const r of e){if(typeof r=="string"){n.push(r);continue}if(n.length>0){t.push(...n.map(o=>{const a=new r(o);return this.states[a.machine]==null&&(this.states[a.machine]={}),this.states[a.machine][a.name]=a,a})),n=[];continue}const i=new r;this.states[i.machine]==null&&(this.states[i.machine]={}),this.states[i.machine][i.name]=i,t.push(i)}return t}set(e,t="default",...n){const r=typeof e=="string"?j.states[t][e]:e;let i,o;if(this.current[t]!=null&&(i=this.current[t].exit(r,...n)),i instanceof Promise)return i.then(()=>{if(r!=null&&(o=r.enter(this.current[t],...n)),o instanceof Promise)return o.then(()=>{this.current[t]=r});this.current[t]=r});if(r!=null&&(o=r.enter(this.current[t],...n)),o instanceof Promise)return o.then(()=>{this.current[t]=r});this.current[t]=r}get(e="default"){return{state:this.current[e]}}}const j=new ft;class pe{constructor(e,t="default"){this.name=e,this.machine=t}enter(e,...t){}exit(e,...t){}}const dt={title:"Connect To Camera",callback:"connectToCamera"},ht={title:"Mute Remote Mic",callback:"muteMic"},pt={event1:dt,event2:ht};function De(s,e){return function(){return s.apply(e,arguments)}}const{toString:Ve}=Object.prototype,{getPrototypeOf:me}=Object,be=(s=>e=>{const t=Ve.call(e);return s[t]||(s[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),$=s=>(s=s.toLowerCase(),e=>be(e)===s),ee=s=>e=>typeof e===s,{isArray:M}=Array,q=ee("undefined");function mt(s){return s!==null&&!q(s)&&s.constructor!==null&&!q(s.constructor)&&F(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const Be=$("ArrayBuffer");function bt(s){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(s):e=s&&s.buffer&&Be(s.buffer),e}const gt=ee("string"),F=ee("function"),Me=ee("number"),ge=s=>s!==null&&typeof s=="object",yt=s=>s===!0||s===!1,K=s=>{if(be(s)!=="object")return!1;const e=me(s);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},wt=$("Date"),Et=$("File"),vt=$("Blob"),St=$("FileList"),At=s=>ge(s)&&F(s.pipe),Tt=s=>{const e="[object FormData]";return s&&(typeof FormData=="function"&&s instanceof FormData||Ve.call(s)===e||F(s.toString)&&s.toString()===e)},xt=$("URLSearchParams"),Ot=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function J(s,e,{allOwnKeys:t=!1}={}){if(s===null||typeof s>"u")return;let n,r;if(typeof s!="object"&&(s=[s]),M(s))for(n=0,r=s.length;n<r;n++)e.call(null,s[n],n,s);else{const i=t?Object.getOwnPropertyNames(s):Object.keys(s),o=i.length;let a;for(n=0;n<o;n++)a=i[n],e.call(null,s[a],a,s)}}function He(s,e){e=e.toLowerCase();const t=Object.keys(s);let n=t.length,r;for(;n-- >0;)if(r=t[n],e===r.toLowerCase())return r;return null}const qe=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),ze=s=>!q(s)&&s!==qe;function ce(){const{caseless:s}=ze(this)&&this||{},e={},t=(n,r)=>{const i=s&&He(e,r)||r;K(e[i])&&K(n)?e[i]=ce(e[i],n):K(n)?e[i]=ce({},n):M(n)?e[i]=n.slice():e[i]=n};for(let n=0,r=arguments.length;n<r;n++)arguments[n]&&J(arguments[n],t);return e}const Ut=(s,e,t,{allOwnKeys:n}={})=>(J(e,(r,i)=>{t&&F(r)?s[i]=De(r,t):s[i]=r},{allOwnKeys:n}),s),Rt=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),Ct=(s,e,t,n)=>{s.prototype=Object.create(e.prototype,n),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:e.prototype}),t&&Object.assign(s.prototype,t)},Nt=(s,e,t,n)=>{let r,i,o;const a={};if(e=e||{},s==null)return e;do{for(r=Object.getOwnPropertyNames(s),i=r.length;i-- >0;)o=r[i],(!n||n(o,s,e))&&!a[o]&&(e[o]=s[o],a[o]=!0);s=t!==!1&&me(s)}while(s&&(!t||t(s,e))&&s!==Object.prototype);return e},Pt=(s,e,t)=>{s=String(s),(t===void 0||t>s.length)&&(t=s.length),t-=e.length;const n=s.indexOf(e,t);return n!==-1&&n===t},It=s=>{if(!s)return null;if(M(s))return s;let e=s.length;if(!Me(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=s[e];return t},Lt=(s=>e=>s&&e instanceof s)(typeof Uint8Array<"u"&&me(Uint8Array)),_t=(s,e)=>{const n=(s&&s[Symbol.iterator]).call(s);let r;for(;(r=n.next())&&!r.done;){const i=r.value;e.call(s,i[0],i[1])}},$t=(s,e)=>{let t;const n=[];for(;(t=s.exec(e))!==null;)n.push(t);return n},kt=$("HTMLFormElement"),jt=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,r){return n.toUpperCase()+r}),Ce=(({hasOwnProperty:s})=>(e,t)=>s.call(e,t))(Object.prototype),Ft=$("RegExp"),Je=(s,e)=>{const t=Object.getOwnPropertyDescriptors(s),n={};J(t,(r,i)=>{e(r,i,s)!==!1&&(n[i]=r)}),Object.defineProperties(s,n)},Dt=s=>{Je(s,(e,t)=>{if(F(s)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=s[t];if(F(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Vt=(s,e)=>{const t={},n=r=>{r.forEach(i=>{t[i]=!0})};return M(s)?n(s):n(String(s).split(e)),t},Bt=()=>{},Mt=(s,e)=>(s=+s,Number.isFinite(s)?s:e),re="abcdefghijklmnopqrstuvwxyz",Ne="0123456789",Ge={DIGIT:Ne,ALPHA:re,ALPHA_DIGIT:re+re.toUpperCase()+Ne},Ht=(s=16,e=Ge.ALPHA_DIGIT)=>{let t="";const{length:n}=e;for(;s--;)t+=e[Math.random()*n|0];return t};function qt(s){return!!(s&&F(s.append)&&s[Symbol.toStringTag]==="FormData"&&s[Symbol.iterator])}const zt=s=>{const e=new Array(10),t=(n,r)=>{if(ge(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[r]=n;const i=M(n)?[]:{};return J(n,(o,a)=>{const h=t(o,r+1);!q(h)&&(i[a]=h)}),e[r]=void 0,i}}return n};return t(s,0)},c={isArray:M,isArrayBuffer:Be,isBuffer:mt,isFormData:Tt,isArrayBufferView:bt,isString:gt,isNumber:Me,isBoolean:yt,isObject:ge,isPlainObject:K,isUndefined:q,isDate:wt,isFile:Et,isBlob:vt,isRegExp:Ft,isFunction:F,isStream:At,isURLSearchParams:xt,isTypedArray:Lt,isFileList:St,forEach:J,merge:ce,extend:Ut,trim:Ot,stripBOM:Rt,inherits:Ct,toFlatObject:Nt,kindOf:be,kindOfTest:$,endsWith:Pt,toArray:It,forEachEntry:_t,matchAll:$t,isHTMLForm:kt,hasOwnProperty:Ce,hasOwnProp:Ce,reduceDescriptors:Je,freezeMethods:Dt,toObjectSet:Vt,toCamelCase:jt,noop:Bt,toFiniteNumber:Mt,findKey:He,global:qe,isContextDefined:ze,ALPHABET:Ge,generateString:Ht,isSpecCompliantForm:qt,toJSONObject:zt};function y(s,e,t,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),r&&(this.response=r)}c.inherits(y,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:c.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const We=y.prototype,Ke={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{Ke[s]={value:s}});Object.defineProperties(y,Ke);Object.defineProperty(We,"isAxiosError",{value:!0});y.from=(s,e,t,n,r,i)=>{const o=Object.create(We);return c.toFlatObject(s,o,function(h){return h!==Error.prototype},a=>a!=="isAxiosError"),y.call(o,s.message,e,t,n,r),o.cause=s,o.name=s.name,i&&Object.assign(o,i),o};const Jt=null;function ue(s){return c.isPlainObject(s)||c.isArray(s)}function Qe(s){return c.endsWith(s,"[]")?s.slice(0,-2):s}function Pe(s,e,t){return s?s.concat(e).map(function(r,i){return r=Qe(r),!t&&i?"["+r+"]":r}).join(t?".":""):e}function Gt(s){return c.isArray(s)&&!s.some(ue)}const Wt=c.toFlatObject(c,{},null,function(e){return/^is[A-Z]/.test(e)});function te(s,e,t){if(!c.isObject(s))throw new TypeError("target must be an object");e=e||new FormData,t=c.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,w){return!c.isUndefined(w[p])});const n=t.metaTokens,r=t.visitor||u,i=t.dots,o=t.indexes,h=(t.Blob||typeof Blob<"u"&&Blob)&&c.isSpecCompliantForm(e);if(!c.isFunction(r))throw new TypeError("visitor must be a function");function l(f){if(f===null)return"";if(c.isDate(f))return f.toISOString();if(!h&&c.isBlob(f))throw new y("Blob is not supported. Use a Buffer instead.");return c.isArrayBuffer(f)||c.isTypedArray(f)?h&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function u(f,p,w){let b=f;if(f&&!w&&typeof f=="object"){if(c.endsWith(p,"{}"))p=n?p:p.slice(0,-2),f=JSON.stringify(f);else if(c.isArray(f)&&Gt(f)||(c.isFileList(f)||c.endsWith(p,"[]"))&&(b=c.toArray(f)))return p=Qe(p),b.forEach(function(A,T){!(c.isUndefined(A)||A===null)&&e.append(o===!0?Pe([p],T,i):o===null?p:p+"[]",l(A))}),!1}return ue(f)?!0:(e.append(Pe(w,p,i),l(f)),!1)}const d=[],g=Object.assign(Wt,{defaultVisitor:u,convertValue:l,isVisitable:ue});function m(f,p){if(!c.isUndefined(f)){if(d.indexOf(f)!==-1)throw Error("Circular reference detected in "+p.join("."));d.push(f),c.forEach(f,function(b,S){(!(c.isUndefined(b)||b===null)&&r.call(e,b,c.isString(S)?S.trim():S,p,g))===!0&&m(b,p?p.concat(S):[S])}),d.pop()}}if(!c.isObject(s))throw new TypeError("data must be an object");return m(s),e}function Ie(s){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function ye(s,e){this._pairs=[],s&&te(s,this,e)}const Xe=ye.prototype;Xe.append=function(e,t){this._pairs.push([e,t])};Xe.toString=function(e){const t=e?function(n){return e.call(this,n,Ie)}:Ie;return this._pairs.map(function(r){return t(r[0])+"="+t(r[1])},"").join("&")};function Kt(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ye(s,e,t){if(!e)return s;const n=t&&t.encode||Kt,r=t&&t.serialize;let i;if(r?i=r(e,t):i=c.isURLSearchParams(e)?e.toString():new ye(e,t).toString(n),i){const o=s.indexOf("#");o!==-1&&(s=s.slice(0,o)),s+=(s.indexOf("?")===-1?"?":"&")+i}return s}class Qt{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){c.forEach(this.handlers,function(n){n!==null&&e(n)})}}const Le=Qt,Ze={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Xt=typeof URLSearchParams<"u"?URLSearchParams:ye,Yt=typeof FormData<"u"?FormData:null,Zt=typeof Blob<"u"?Blob:null,es=(()=>{let s;return typeof navigator<"u"&&((s=navigator.product)==="ReactNative"||s==="NativeScript"||s==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),ts=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),N={isBrowser:!0,classes:{URLSearchParams:Xt,FormData:Yt,Blob:Zt},isStandardBrowserEnv:es,isStandardBrowserWebWorkerEnv:ts,protocols:["http","https","file","blob","url","data"]};function ss(s,e){return te(s,new N.classes.URLSearchParams,Object.assign({visitor:function(t,n,r,i){return N.isNode&&c.isBuffer(t)?(this.append(n,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function ns(s){return c.matchAll(/\w+|\[(\w*)]/g,s).map(e=>e[0]==="[]"?"":e[1]||e[0])}function rs(s){const e={},t=Object.keys(s);let n;const r=t.length;let i;for(n=0;n<r;n++)i=t[n],e[i]=s[i];return e}function et(s){function e(t,n,r,i){let o=t[i++];const a=Number.isFinite(+o),h=i>=t.length;return o=!o&&c.isArray(r)?r.length:o,h?(c.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!a):((!r[o]||!c.isObject(r[o]))&&(r[o]=[]),e(t,n,r[o],i)&&c.isArray(r[o])&&(r[o]=rs(r[o])),!a)}if(c.isFormData(s)&&c.isFunction(s.entries)){const t={};return c.forEachEntry(s,(n,r)=>{e(ns(n),r,t,0)}),t}return null}const is={"Content-Type":void 0};function os(s,e,t){if(c.isString(s))try{return(e||JSON.parse)(s),c.trim(s)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(s)}const se={transitional:Ze,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=c.isObject(e);if(i&&c.isHTMLForm(e)&&(e=new FormData(e)),c.isFormData(e))return r&&r?JSON.stringify(et(e)):e;if(c.isArrayBuffer(e)||c.isBuffer(e)||c.isStream(e)||c.isFile(e)||c.isBlob(e))return e;if(c.isArrayBufferView(e))return e.buffer;if(c.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return ss(e,this.formSerializer).toString();if((a=c.isFileList(e))||n.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return te(a?{"files[]":e}:e,h&&new h,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),os(e)):e}],transformResponse:[function(e){const t=this.transitional||se.transitional,n=t&&t.forcedJSONParsing,r=this.responseType==="json";if(e&&c.isString(e)&&(n&&!this.responseType||r)){const o=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?y.from(a,y.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:N.classes.FormData,Blob:N.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};c.forEach(["delete","get","head"],function(e){se.headers[e]={}});c.forEach(["post","put","patch"],function(e){se.headers[e]=c.merge(is)});const we=se,as=c.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ls=s=>{const e={};let t,n,r;return s&&s.split(`
`).forEach(function(o){r=o.indexOf(":"),t=o.substring(0,r).trim().toLowerCase(),n=o.substring(r+1).trim(),!(!t||e[t]&&as[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},_e=Symbol("internals");function H(s){return s&&String(s).trim().toLowerCase()}function Q(s){return s===!1||s==null?s:c.isArray(s)?s.map(Q):String(s)}function cs(s){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(s);)e[n[1]]=n[2];return e}const us=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function ie(s,e,t,n,r){if(c.isFunction(n))return n.call(this,e,t);if(r&&(e=t),!!c.isString(e)){if(c.isString(n))return e.indexOf(n)!==-1;if(c.isRegExp(n))return n.test(e)}}function fs(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function ds(s,e){const t=c.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(s,n+t,{value:function(r,i,o){return this[n].call(this,e,r,i,o)},configurable:!0})})}class ne{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(a,h,l){const u=H(h);if(!u)throw new Error("header name must be a non-empty string");const d=c.findKey(r,u);(!d||r[d]===void 0||l===!0||l===void 0&&r[d]!==!1)&&(r[d||h]=Q(a))}const o=(a,h)=>c.forEach(a,(l,u)=>i(l,u,h));return c.isPlainObject(e)||e instanceof this.constructor?o(e,t):c.isString(e)&&(e=e.trim())&&!us(e)?o(ls(e),t):e!=null&&i(t,e,n),this}get(e,t){if(e=H(e),e){const n=c.findKey(this,e);if(n){const r=this[n];if(!t)return r;if(t===!0)return cs(r);if(c.isFunction(t))return t.call(this,r,n);if(c.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=H(e),e){const n=c.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||ie(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let r=!1;function i(o){if(o=H(o),o){const a=c.findKey(n,o);a&&(!t||ie(n,n[a],a,t))&&(delete n[a],r=!0)}}return c.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];(!e||ie(this,this[i],i,e,!0))&&(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return c.forEach(this,(r,i)=>{const o=c.findKey(n,i);if(o){t[o]=Q(r),delete t[i];return}const a=e?fs(i):String(i).trim();a!==i&&delete t[i],t[a]=Q(r),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return c.forEach(this,(n,r)=>{n!=null&&n!==!1&&(t[r]=e&&c.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(r=>n.set(r)),n}static accessor(e){const n=(this[_e]=this[_e]={accessors:{}}).accessors,r=this.prototype;function i(o){const a=H(o);n[a]||(ds(r,o),n[a]=!0)}return c.isArray(e)?e.forEach(i):i(e),this}}ne.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);c.freezeMethods(ne.prototype);c.freezeMethods(ne);const L=ne;function oe(s,e){const t=this||we,n=e||t,r=L.from(n.headers);let i=n.data;return c.forEach(s,function(a){i=a.call(t,i,r.normalize(),e?e.status:void 0)}),r.normalize(),i}function tt(s){return!!(s&&s.__CANCEL__)}function G(s,e,t){y.call(this,s??"canceled",y.ERR_CANCELED,e,t),this.name="CanceledError"}c.inherits(G,y,{__CANCEL__:!0});function hs(s,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?s(t):e(new y("Request failed with status code "+t.status,[y.ERR_BAD_REQUEST,y.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}const ps=N.isStandardBrowserEnv?function(){return{write:function(t,n,r,i,o,a){const h=[];h.push(t+"="+encodeURIComponent(n)),c.isNumber(r)&&h.push("expires="+new Date(r).toGMTString()),c.isString(i)&&h.push("path="+i),c.isString(o)&&h.push("domain="+o),a===!0&&h.push("secure"),document.cookie=h.join("; ")},read:function(t){const n=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function ms(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function bs(s,e){return e?s.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):s}function st(s,e){return s&&!ms(e)?bs(s,e):e}const gs=N.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(i){let o=i;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(o){const a=c.isString(o)?r(o):o;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}();function ys(s){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return e&&e[1]||""}function ws(s,e){s=s||10;const t=new Array(s),n=new Array(s);let r=0,i=0,o;return e=e!==void 0?e:1e3,function(h){const l=Date.now(),u=n[i];o||(o=l),t[r]=h,n[r]=l;let d=i,g=0;for(;d!==r;)g+=t[d++],d=d%s;if(r=(r+1)%s,r===i&&(i=(i+1)%s),l-o<e)return;const m=u&&l-u;return m?Math.round(g*1e3/m):void 0}}function $e(s,e){let t=0;const n=ws(50,250);return r=>{const i=r.loaded,o=r.lengthComputable?r.total:void 0,a=i-t,h=n(a),l=i<=o;t=i;const u={loaded:i,total:o,progress:o?i/o:void 0,bytes:a,rate:h||void 0,estimated:h&&o&&l?(o-i)/h:void 0,event:r};u[e?"download":"upload"]=!0,s(u)}}const Es=typeof XMLHttpRequest<"u",vs=Es&&function(s){return new Promise(function(t,n){let r=s.data;const i=L.from(s.headers).normalize(),o=s.responseType;let a;function h(){s.cancelToken&&s.cancelToken.unsubscribe(a),s.signal&&s.signal.removeEventListener("abort",a)}c.isFormData(r)&&(N.isStandardBrowserEnv||N.isStandardBrowserWebWorkerEnv)&&i.setContentType(!1);let l=new XMLHttpRequest;if(s.auth){const m=s.auth.username||"",f=s.auth.password?unescape(encodeURIComponent(s.auth.password)):"";i.set("Authorization","Basic "+btoa(m+":"+f))}const u=st(s.baseURL,s.url);l.open(s.method.toUpperCase(),Ye(u,s.params,s.paramsSerializer),!0),l.timeout=s.timeout;function d(){if(!l)return;const m=L.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders()),p={data:!o||o==="text"||o==="json"?l.responseText:l.response,status:l.status,statusText:l.statusText,headers:m,config:s,request:l};hs(function(b){t(b),h()},function(b){n(b),h()},p),l=null}if("onloadend"in l?l.onloadend=d:l.onreadystatechange=function(){!l||l.readyState!==4||l.status===0&&!(l.responseURL&&l.responseURL.indexOf("file:")===0)||setTimeout(d)},l.onabort=function(){l&&(n(new y("Request aborted",y.ECONNABORTED,s,l)),l=null)},l.onerror=function(){n(new y("Network Error",y.ERR_NETWORK,s,l)),l=null},l.ontimeout=function(){let f=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const p=s.transitional||Ze;s.timeoutErrorMessage&&(f=s.timeoutErrorMessage),n(new y(f,p.clarifyTimeoutError?y.ETIMEDOUT:y.ECONNABORTED,s,l)),l=null},N.isStandardBrowserEnv){const m=(s.withCredentials||gs(u))&&s.xsrfCookieName&&ps.read(s.xsrfCookieName);m&&i.set(s.xsrfHeaderName,m)}r===void 0&&i.setContentType(null),"setRequestHeader"in l&&c.forEach(i.toJSON(),function(f,p){l.setRequestHeader(p,f)}),c.isUndefined(s.withCredentials)||(l.withCredentials=!!s.withCredentials),o&&o!=="json"&&(l.responseType=s.responseType),typeof s.onDownloadProgress=="function"&&l.addEventListener("progress",$e(s.onDownloadProgress,!0)),typeof s.onUploadProgress=="function"&&l.upload&&l.upload.addEventListener("progress",$e(s.onUploadProgress)),(s.cancelToken||s.signal)&&(a=m=>{l&&(n(!m||m.type?new G(null,s,l):m),l.abort(),l=null)},s.cancelToken&&s.cancelToken.subscribe(a),s.signal&&(s.signal.aborted?a():s.signal.addEventListener("abort",a)));const g=ys(u);if(g&&N.protocols.indexOf(g)===-1){n(new y("Unsupported protocol "+g+":",y.ERR_BAD_REQUEST,s));return}l.send(r||null)})},X={http:Jt,xhr:vs};c.forEach(X,(s,e)=>{if(s){try{Object.defineProperty(s,"name",{value:e})}catch{}Object.defineProperty(s,"adapterName",{value:e})}});const Ss={getAdapter:s=>{s=c.isArray(s)?s:[s];const{length:e}=s;let t,n;for(let r=0;r<e&&(t=s[r],!(n=c.isString(t)?X[t.toLowerCase()]:t));r++);if(!n)throw n===!1?new y(`Adapter ${t} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(c.hasOwnProp(X,t)?`Adapter '${t}' is not available in the build`:`Unknown adapter '${t}'`);if(!c.isFunction(n))throw new TypeError("adapter is not a function");return n},adapters:X};function ae(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new G(null,s)}function ke(s){return ae(s),s.headers=L.from(s.headers),s.data=oe.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),Ss.getAdapter(s.adapter||we.adapter)(s).then(function(n){return ae(s),n.data=oe.call(s,s.transformResponse,n),n.headers=L.from(n.headers),n},function(n){return tt(n)||(ae(s),n&&n.response&&(n.response.data=oe.call(s,s.transformResponse,n.response),n.response.headers=L.from(n.response.headers))),Promise.reject(n)})}const je=s=>s instanceof L?s.toJSON():s;function B(s,e){e=e||{};const t={};function n(l,u,d){return c.isPlainObject(l)&&c.isPlainObject(u)?c.merge.call({caseless:d},l,u):c.isPlainObject(u)?c.merge({},u):c.isArray(u)?u.slice():u}function r(l,u,d){if(c.isUndefined(u)){if(!c.isUndefined(l))return n(void 0,l,d)}else return n(l,u,d)}function i(l,u){if(!c.isUndefined(u))return n(void 0,u)}function o(l,u){if(c.isUndefined(u)){if(!c.isUndefined(l))return n(void 0,l)}else return n(void 0,u)}function a(l,u,d){if(d in e)return n(l,u);if(d in s)return n(void 0,l)}const h={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(l,u)=>r(je(l),je(u),!0)};return c.forEach(Object.keys(s).concat(Object.keys(e)),function(u){const d=h[u]||r,g=d(s[u],e[u],u);c.isUndefined(g)&&d!==a||(t[u]=g)}),t}const nt="1.3.5",Ee={};["object","boolean","number","function","string","symbol"].forEach((s,e)=>{Ee[s]=function(n){return typeof n===s||"a"+(e<1?"n ":" ")+s}});const Fe={};Ee.transitional=function(e,t,n){function r(i,o){return"[Axios v"+nt+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,a)=>{if(e===!1)throw new y(r(o," has been removed"+(t?" in "+t:"")),y.ERR_DEPRECATED);return t&&!Fe[o]&&(Fe[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(i,o,a):!0}};function As(s,e,t){if(typeof s!="object")throw new y("options must be an object",y.ERR_BAD_OPTION_VALUE);const n=Object.keys(s);let r=n.length;for(;r-- >0;){const i=n[r],o=e[i];if(o){const a=s[i],h=a===void 0||o(a,i,s);if(h!==!0)throw new y("option "+i+" must be "+h,y.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new y("Unknown option "+i,y.ERR_BAD_OPTION)}}const fe={assertOptions:As,validators:Ee},k=fe.validators;class Z{constructor(e){this.defaults=e,this.interceptors={request:new Le,response:new Le}}request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=B(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;n!==void 0&&fe.assertOptions(n,{silentJSONParsing:k.transitional(k.boolean),forcedJSONParsing:k.transitional(k.boolean),clarifyTimeoutError:k.transitional(k.boolean)},!1),r!=null&&(c.isFunction(r)?t.paramsSerializer={serialize:r}:fe.assertOptions(r,{encode:k.function,serialize:k.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o;o=i&&c.merge(i.common,i[t.method]),o&&c.forEach(["delete","get","head","post","put","patch","common"],f=>{delete i[f]}),t.headers=L.concat(o,i);const a=[];let h=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(t)===!1||(h=h&&p.synchronous,a.unshift(p.fulfilled,p.rejected))});const l=[];this.interceptors.response.forEach(function(p){l.push(p.fulfilled,p.rejected)});let u,d=0,g;if(!h){const f=[ke.bind(this),void 0];for(f.unshift.apply(f,a),f.push.apply(f,l),g=f.length,u=Promise.resolve(t);d<g;)u=u.then(f[d++],f[d++]);return u}g=a.length;let m=t;for(d=0;d<g;){const f=a[d++],p=a[d++];try{m=f(m)}catch(w){p.call(this,w);break}}try{u=ke.call(this,m)}catch(f){return Promise.reject(f)}for(d=0,g=l.length;d<g;)u=u.then(l[d++],l[d++]);return u}getUri(e){e=B(this.defaults,e);const t=st(e.baseURL,e.url);return Ye(t,e.params,e.paramsSerializer)}}c.forEach(["delete","get","head","options"],function(e){Z.prototype[e]=function(t,n){return this.request(B(n||{},{method:e,url:t,data:(n||{}).data}))}});c.forEach(["post","put","patch"],function(e){function t(n){return function(i,o,a){return this.request(B(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Z.prototype[e]=t(),Z.prototype[e+"Form"]=t(!0)});const Y=Z;class ve{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const n=this;this.promise.then(r=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](r);n._listeners=null}),this.promise.then=r=>{let i;const o=new Promise(a=>{n.subscribe(a),i=a}).then(r);return o.cancel=function(){n.unsubscribe(i)},o},e(function(i,o,a){n.reason||(n.reason=new G(i,o,a),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new ve(function(r){e=r}),cancel:e}}}const Ts=ve;function xs(s){return function(t){return s.apply(null,t)}}function Os(s){return c.isObject(s)&&s.isAxiosError===!0}const de={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(de).forEach(([s,e])=>{de[e]=s});const Us=de;function rt(s){const e=new Y(s),t=De(Y.prototype.request,e);return c.extend(t,Y.prototype,e,{allOwnKeys:!0}),c.extend(t,e,null,{allOwnKeys:!0}),t.create=function(r){return rt(B(s,r))},t}const O=rt(we);O.Axios=Y;O.CanceledError=G;O.CancelToken=Ts;O.isCancel=tt;O.VERSION=nt;O.toFormData=te;O.AxiosError=y;O.Cancel=O.CanceledError;O.all=function(e){return Promise.all(e)};O.spread=xs;O.isAxiosError=Os;O.mergeConfig=B;O.AxiosHeaders=L;O.formToJSON=s=>et(c.isHTMLForm(s)?new FormData(s):s);O.HttpStatusCode=Us;O.default=O;const V=O,Se="/assets/help-007581c5.svg",Ae="/assets/logout-31f55824.svg",Te="/assets/gear-6bdb82c8.svg",xe="/assets/AI_logo_white-d953faa8.png",it="/assets/atlasied-2a79e839.png",Rs="/assets/user-5faf5a30.svg",Cs="/assets/name-43ad81f5.svg",Ns="/assets/password-dc9673e2.svg";class Oe extends pe{constructor(){super("login");I(this,"model")}async enter(t,...n){const[r]=n;this.model=r,await this.wait(25),r.currentGameState=z.Login,await this.wait(50),r.username.value="",r.username.focus()}async exit(t,...n){}async wait(t){return new Promise(n=>setTimeout(()=>{n()},t))}}I(Oe,"template",`
  <div class="content" \${===isLogin}>
  <div class="branding">
    <img class="branding_logo" src="${it}" />
  </div>

  <div class="login_form">
    <div class="login_flex">
      <div class="login_logo">
        <img class="logo_login" alt="logo" src="${Rs}" />
      </div>
      <div class="login_input_flex">
        <div class="login_input_container">
          <div class="error user" \${===showUserError}>\${ErrorMessage}</div>
          <img class="logo_input_login" alt="username" src="${Cs}" />
          <input \${==>username} \${input@=>resetLoginInput} class="input_login" maxlength="18" title="USERNAME" />
        </div>
        
        <div class="login_input_container">
          <div class="error password" \${===showPasswordError}>\${ErrorMessage}</div>  
          <img class="logo_input_login" alt="password" src="${Ns}" />
          <input \${==>password} \${input@=>resetLoginInput} \${keypress@=>checkForEnter} type="password" class="input_login" maxlength="20" title="PASSWORD" />
        </div>
        
        <button class="button" title="LOGIN" \${click@=>loginClick}>LOGIN</button>
      </div>
    </div>
  </div>

  <div class="sidebar">
    <div class="sidebar_flex">
      <div class="upper_sidebar">
        <a \${click@=>logoutClick} ><img class="icons" alt="logout" src="${Ae}" title="LOGOUT" /></a>
      </div>
      <div class="lower_sidebar">
        <a \${click@=>showHelpClick}><img class="icons" alt="logout" src="${Se}" title="HELP" /></a>
        <a \${click@=>showSettingsClick}><img class="icons" alt="logout" src="${Te}" title="SETTINGS" /></a>
      </div>
    </div>
    <div class="logo_sidebar_container">
      <img class="logo_sidebar" alt="logo" src="${xe}" />
    </div>
  </div>

  <div class="helpscreen" \${===showHelp}>
    <h1>Login Help</h1>
    <p>You must be a registered user to access this app</p>
    <p>Enter Valid Username in the top field, and your assigned password in the bottom field.  Click submit or hit enter to request access</p>
  </div>

</div>
   `);class Ue extends pe{constructor(){super("startup");I(this,"model")}async enter(t,...n){const[r]=n;let i=r.backendInfo.axios;this.model=r,r.currentGameState=z.Startup,r.backendInfo.port;let o="/api/connect";(await i.post(o,{connectionString:"IPXDEMO"})).data=="IPXDEMO Express Server"&&(r.currentGameState=z.Login,j.set("login","default",r))}async exit(t,...n){}}I(Ue,"template",`
  <div class="content" \${===isStartup}>
    <div class="sidebar">
      <div class="sidebar_flex">
        <div class="upper_sidebar">
          <a href="#"><img class="icons" alt="logout" src=${Ae} /></a>
        </div>
        <div class="lower_sidebar">
          <a href="#"><img class="icons" alt="logout" src=${Se} /></a>
          <a href="#"><img class="icons" alt="logout" src=${Te} /></a>
        </div>
      </div>
      <div class="logo_sidebar_container">
        <img class="logo_sidebar" alt="logo" src=${xe} />
      </div>
    </div>
  </div>
   `);class Re extends pe{constructor(){super("main");I(this,"model")}enter(t,...n){const[r]=n;this.model=r,r.currentGameState=z.Main}async exit(t,...n){}}I(Re,"template",`
  <div class="content" \${===isMain}>
  <div class="branding">
    <img class="branding_logo" src="${it}" />
  </div>

  <div class="event_div">
    
    <div class="event_flex">
      <button \${event<=*events} \${click@=>event.callback} class="button" title="\${event.title}">\${event.title}</button>
    </div>
  </div>

  <div class="sidebar">
    <div class="sidebar_flex">
      <div class="upper_sidebar">
        <a \${click@=>logoutClick} ><img class="icons" alt="logout" src="${Ae}" title="LOGOUT" /></a>
      </div>
      <div class="lower_sidebar">
        <a \${click@=>showHelpClick}><img class="icons" alt="logout" src="${Se}" title="HELP" /></a>
        <a \${click@=>showSettingsClick}><img class="icons" alt="logout" src="${Te}" title="SETTINGS" /></a>
      </div>
    </div>
    <div class="logo_sidebar_container">
      <img class="logo_sidebar" alt="logo" src="${xe}" />
    </div>
  </div>

  <div class="user_info">
    <span>Logged in as:  \${currentUser} on \${LoginTime}</span>
  </div>


</div>;`);var z=(s=>(s.Login="Login",s.Startup="Startup",s.Main="Main",s))(z||{});const _={backendInfo:{port:5500,axios:V},currentGameState:"Startup",get isLogin(){return this.currentGameState==="Login"},get isStartup(){return this.currentGameState==="Startup"},get isMain(){return this.currentGameState==="Main"},events:[],currentUser:"Mookie Longbottom",LoginTime:"3:09PM on 4/13/23",username:void 0,password:void 0,showUserError:!1,showPasswordError:!1,ErrorMessage:"This is an error message",loginClick:async(s,e)=>{var o,a;const t=e.username.value,n=e.password.value;if(t==""||n=="")return;const r="/api/login";let i;try{i=await V.post(r,{username:t,password:n})}catch(h){V.isAxiosError(h)&&(((o=h.response)==null?void 0:o.status)==400?(e.username.style.border="thick solid #FF0000",e.ErrorMessage="USER NOT FOUND",e.showUserError=!0,e.showPasswordError=!1,e.username.focus(),e.username.select()):((a=h.response)==null?void 0:a.status)==401&&(e.password.style.border="thick solid #FF0000",e.ErrorMessage="INVALID PASSWORD",e.showUserError=!1,e.showPasswordError=!0,e.password.focus(),e.password.select()))}(i==null?void 0:i.status)==200&&(j.set("main","default",e),e.currentUser=i.data.name,e.LoginTime=new Date().toLocaleDateString()+" at "+new Date().toLocaleTimeString())},checkForEnter:(s,e)=>{s.key=="Enter"&&e.loginClick()},resetLoginInput:(s,e)=>{(e.showUserError==!0||e.showPasswordError==!0)&&(e.username.style.border="1px solid #004d82",e.password.style.border="1px solid #004d82",e.showPasswordError=!1,e.showUserError=!1)},logoutClick:(s,e)=>{e.currentGameState=="Main"?(e.currentGameState="Login",j.set("login","default",e)):e.currentGameState=="Login"&&(e.username.value="",e.username.focus())},showHelpClick:(s,e)=>{e.showHelp=!e.showHelp},showSettingsClick:(s,e)=>{},runEvent:()=>{},showHelp:!1,showSettings:!1},Ps=`
<div class="app"> 
    ${Oe.template}
    ${Ue.template}
    ${Re.template}
</div>`;E.create(document.body,Ps,_);let Is=pt;Object.entries(Is).forEach(s=>{_.events.push({title:s[1].title,callback:()=>{Ls(s[1].callback)}})});function Ls(s){console.log("in runCallback"),_s[s]()}j.create(Oe,Ue,Re);j.set("startup","default",_);const _s={connectToCamera:ks,muteMic:$s};async function $s(){var t,n;const s="/api/muteRemoteMic";let e;try{e=await V.post(s,{})}catch(r){V.isAxiosError(r)&&(((t=r.response)==null?void 0:t.status)==400||((n=r.response)==null?void 0:n.status)==401)}(e==null?void 0:e.status)==200&&(j.set("main","default",_),_.currentUser=e.data.name,_.LoginTime=new Date().toLocaleDateString()+" at "+new Date().toLocaleTimeString())}async function ks(){var t,n;console.log("in connectToCamers");const s="/api/cameraConnect";let e;try{e=await V.post(s,{})}catch(r){V.isAxiosError(r)&&(((t=r.response)==null?void 0:t.status)==400||((n=r.response)==null?void 0:n.status)==401)}(e==null?void 0:e.status)==200&&(j.set("main","default",_),_.currentUser=e.data.name,_.LoginTime=new Date().toLocaleDateString()+" at "+new Date().toLocaleTimeString())}
